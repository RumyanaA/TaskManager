<!DOCTYPE html>
<html style="height:100%;">
<head>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="TasksFlow.js"></script>
    <script src="TableFlow.js"></script>
    <link rel="stylesheet" href="taskPageStyles.css"/>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0"
            crossorigin="anonymous"
    />
    <style>
      table,
      th,
      td {
        border: 1px solid black;
      }




    </style>
</head>

<body onload="onLoad()">
<!-- Modal Details-->
<div
        class="modal fade"
        id="taskModal"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel"></h5>
                <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="close"
                ></button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Title</span>
                    </div>
                    <textarea
                            readonly
                            id="taskTitle"
                            class="form-control"
                            aria-label="With textarea"
                    ></textarea>
                </div>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Description</span>
                    </div>
                    <textarea
                            readonly
                            id="taskDesc"
                            class="form-control"
                            aria-label="With textarea"
                    ></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button
                        onclick="deleteTask(event)"
                        type="button"
                        class="btn btn-secondary"
                        data-bs-dismiss="modal"
                >
                    Delete
                </button>
                <button
                        onclick="editTask()"
                        id="bEdit"
                        type="button"
                        class="btn btn-primary"
                >
                    Edit
                </button>
                <button
                        onclick="updateTask(event)"
                        id="bSave"
                        type="button"
                        class="btn btn-primary"
                        data-bs-dismiss="modal"
                >
                    Save
                </button>
            </div>
        </div>
    </div>
</div>

<nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
        <span id="usernameField" class="navbar-brand mb-0 h1"></span>
    </div>
</nav>

<table>
    <tr>
        <th>To do</th>
        <th>In progress</th>
        <th>Done</th>
    </tr>
    <tr class="table-row">
        <td class="table-data">
            <ul class="ul-with-btn" id="todo" ondrop="drop(event)" ondragover="allowDrop(event)">
                <br/>
                <!-- Button trigger modal -->
                <button
                        id="butId"
                        type="button"
                        class="btn btn-primary"
                        data-bs-toggle="modal"
                        data-bs-target="#exampleModal"
                >
                    +Add
                </button>

                <!-- Modal -->
                <div
                        class="modal fade"
                        id="exampleModal"
                        tabindex="-1"
                        aria-labelledby="exampleModalLabel"
                        aria-hidden="true"
                >
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel"></h5>
                                <button
                                        type="button"
                                        class="btn-close"
                                        data-bs-dismiss="modal"
                                        aria-label="Close"
                                ></button>
                            </div>
                            <div class="modal-body">
                                <div class="form-floating">
                                    <input
                                            id="title"
                                            type="text"
                                            class="form-control"
                                            aria-label="Sizing example input"
                                            aria-describedby="inputGroup-sizing-default"
                                    />
                                    <label for="title">Title</label><br/>
                                </div>
                                <div class="form-floating">
                      <textarea
                              class="form-control"
                              placeholder="Leave a comment here"
                              id="floatingTextarea2"
                              style="height: 100px"
                      ></textarea>
                                    <label for="floatingTextarea2">Description</label>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button
                                        type="button"
                                        class="btn btn-secondary"
                                        data-bs-dismiss="modal"
                                >
                                    Close
                                </button>
                                <button
                                        onclick="createTask()"
                                        type="button"
                                        class="btn btn-primary"
                                        data-bs-dismiss="modal"
                                >
                                    Save changes
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <li ondragstart="drag(event)" draggable="true">Coffee</li>
                <li>Tea</li>
                <li>Milk</li>
            </ul>
        </td>
        <td class="table-data">
            <ul
                    class="ul-without-btn"
                    id="inProgress"
                    ondrop="drop(event)"
                    ondragover="allowDrop(event)"
            >
                <li>Coffee</li>
                <li>Tea</li>
                <li>Milk</li>
            </ul>
        </td>
        <td class="table-data">
            <ul class="ul-without-btn" id="done" ondrop="drop2(event)" ondragover="allowDrop(event)">
                <li>Coffee</li>
                <li>Tea</li>
                <li>Milk</li>
            </ul>
        </td>
    </tr>
</table>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
        crossorigin="anonymous"
></script>
</body>
</html>
